% vim: spl=en_us
\chapter{Topological spaces and Metric spaces}

\section{Topological spaces}
Throughout these notes, the power set \(\mathbb{P}(X)\) denotes the collection of subsets of the set \(X\).
\begin{definition}{Topological space}{topology}
    A \emph{topological space} \topology{X} is a set \(X\) with a choice of \emph{topology} \(\tau_X\), a subset \(\tau_X\) of the power set \(\mathbb{P}(X)\) satisfying
    \begin{enumerate}[label=(\alph*)]
        \item \(X \in \tau_X\) and \(\emptyset \in \tau_X\);
        \item a finite intersection of elements of \(\tau_X\) is an element of \(\tau_X\); and
        \item an arbitrary union of elements of \(\tau_X\) is an element of \(\tau_X\).
    \end{enumerate}
    An \emph{open set} \(U\) on a topological space is a subset \(U \subset X\) such that \(U \in \tau_X\) and a \emph{closed set} \(V\) on a topological space is a subset \(V \subset X\) such that \(X \setminus V \in \tau_X\). A \emph{neighborhood of a point \(x \in X\)} is an open set \(U \in \tau_X\) that contains it, \(x \in U\).
\end{definition}
\begin{remark}
    Notice \(X\) and \(\emptyset\) are both open and closed sets in any topology on \(X\).
\end{remark}

We may show results for the union and intersection of closed sets similar to those of open sets.
\begin{lemma}{Complement of an arbitrary union}{complement_union}
    Let \(J\) be an arbitrary index set and let \(\family{E_j}{j\in J}\) be a family of subsets of \(X\). Then
    \begin{equation*}
        X \setminus \left(\bigcup_{j\in J} E_j\right) = \bigcap_{j \in J} \left(X \setminus E_j\right).
    \end{equation*}
\end{lemma}
\begin{proof}
    Let \(A = X \setminus\left(\bigcup_{j \in J} E_j\right)\) and let \(B = \bigcap_{j \in J} \left(X \setminus E_j\right)\). Then, we want to show \(A = B\).

    Let \(a \in A\), then \(a \notin \bigcup_{j \in J} E_j\). That is, there is no \(i \in J\) such that \(a \in U_i\). Hence, for all \(j \in J\) we have \(a \in a \setminus E_j\). As a result, \(a \in B\), thus \(A \subset B\).

    Let \(b \in B\), then \(b \in X \setminus E_j\) for all \(j \in J\). That is, for all \(j \in J\) we have \(b \notin E_j\), and as a result, \(b \notin \bigcup_{j \in J} E_j\). Hence, \(b \in A\), and we have \(B \subset A\).
\end{proof}

\begin{proposition}{Unions and intersections of closed sets}{closed_sets}
    Let \((X, \tau)\) be a topological space. Then
    \begin{enumerate}[label=(\alph*)]
        \item a finite union of closed sets is closed; and
        \item an arbitrary intersection of closed sets is closed.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Let \(\ffamily{V_i}{i=1}{N}\) be a finite family of closed sets and let \(V = \bigcup_{i=1}^N V_i\). By \cref{lem:complement_union}, we have \(X \setminus V = \bigcap_{i = 1}^N \left(X \setminus V_i\right).\) That is, \(X \setminus V\) is the finite intersection of the open sets \(X \setminus V_i\), therefore it is open. As such, \(V\) is closed.

    Let \(\family{U_i}{i \in I}\) be a family of closed sets, for some index set \(I\), and let \(U = \bigcap_{i \in I} U_i\). By \cref{lem:complement_union}, we have \(X \setminus U = \bigcup_{i \in I} X \setminus U_i\). That is, \(X \setminus U\) is the arbitrary union of the open sets \(X \setminus U_i\), therefore it is open. We conclude \(U\) is closed.
\end{proof}
\begin{proposition}{Subspace topology is a topology}{subspace_topology}
    Given a topological space \topology{X} and a subset \(S\) of \(X\), we define the \emph{subspace topology} \restrict{\tau_X}{S} as
    \begin{equation*}
        \restrict{\tau_X}{S} = \set{U \cap S : U \in \tau_X}.
    \end{equation*}
    Then \((S, \restrict{\tau_X}{S})\) is a topological space.
\end{proposition}
\begin{proof}
    We must show the conditions (a), (b), and (c) of \cref{def:topology} are satisfied.
    \begin{enumerate}[label=(\alph*)]
        \item Since \(S = X \cap S\) and \(\emptyset = \emptyset \cap S\), we have \(S \in \restrict{\tau_X}{S}\) and \(\emptyset \in \restrict{\tau_X}{S}\).
        \item Let \(U, V \in \restrict{\tau_X}{S}\). Then, there exists \(\tilde{U}, \tilde{V} \in \tau_X\) such that \(U = \tilde{U} \cap S\) and \(V = \tilde{V} \cap S\).Then, \(U \cap V = (\tilde{U}\cap S) \cap (\tilde{V} \cap S) = (\tilde{U}\cap\tilde{V})\cap S\). Since \(\tilde{U} \cap \tilde{V} \in \tau_X\), we have \(U \cap V \in \restrict{\tau_X}{S}\).
        \item Let \family{U_\alpha}{\alpha \in J} be a family of open sets in \(\restrict{\tau_X}{S}\). For each \(\alpha \in J\), there exists a \(\tilde{U}_\alpha\in\tau_X\) such that \(U_\alpha = \tilde{U}_\alpha \cap S\). Then
            \begin{align*}
                \bigcup_{\alpha \in J} U_\alpha &= \bigcup_{\alpha \in J} \tilde{U}_\alpha \cap S\\
                                                &= \setc{s \in S }{\exists \alpha \in J : s \in \tilde{U}_\alpha}\\
                                                &= \setc{x \in X}{\exists \alpha \in J : x \in \tilde{U}_\alpha} \cap S\\
                                                &= S\cap\bigcup_{\alpha\in J}\tilde{U}_\alpha.
            \end{align*}
        Since arbitrary unions of open sets is an open set, it follows that \(\bigcup_{\alpha\in J}U_\alpha \in \restrict{\tau_X}{S}\).
    \end{enumerate}
    We have thus shown \(\restrict{\tau_X}{S}\) is a topology on \(S\).
\end{proof}
\begin{remark}
    It should be noted that if \(S\) is an open set in \(X\), then every open set in the subspace topology is an open set in \(X\). Indeed, let \(V \in \restrict{\tau_X}{S}\), then there exists \(\tilde{V} \in \tau_X\) such that \(V = \tilde{V} \cap S\), that is, \(V\) is an intersection of two open sets in \(X\), hence open.
\end{remark}

\begin{proposition}{Product topology}{product_topology}
    Let \topology{X} and \topology{Y} be topological spaces. Define the \emph{product topology} \(\tau_{X\times Y}\) as the collection of subsets \(U \subset X \times Y\) such that for all \((x,y) \in U\), there exists neighborhoods \(S \subset X\) and \(T \subset Y\) of \(x \in X\) and \(y\in Y\) such that \(S \times T \subset U\). Then \topology{X\times Y} is a topological space.
\end{proposition}
\begin{proof}
    Clearly, \(X\times Y\) and \(\emptyset\) are open sets in the product topology.

    Next, we consider open sets \(U, V \in \tau_{X\times Y}\) and an element \(p \in U \cap V\). Let \(p = (x, y) \in X \times Y\), then there exists neighborhoods \(S_U, S_V\subset X\) of \(x\) and \(T_U, T_V \subset Y\) of \(y\) such that \(S_U \times T_U \subset U\) and \(S_V \times T_V \subset V\). Let \(S = S_U \cap S_V\) and \(T = T_U \cap T_V\), then \(S \in \tau_X\) and \(T \in \tau_Y\) are neighborhoods of \(x\) and \(y\), respectively. Moreover, \(S \times T \subset U \cap V\) is a neighborhood of \(p\), from which follows \(U \cap V \in \tau_{X\times Y}\).

    Let \family{U_\alpha}{\alpha\in J} be a family of open sets in the product topology. Let \(p\in \bigcup_{\alpha\in J}U_\alpha\), then there exists \(\beta \in J\) such that \(p \in U_{\beta}\). By definition, there exists open sets \(S \in \tau_X\) and \(T \in \tau_Y\) such that \(S \times T \subset U_\beta \subset \bigcup_{\alpha\in J} U_\alpha\). Therefore, \(\bigcup_{\alpha\in J}U_\alpha\) is an open set.
\end{proof}

Along with the axioms of topological spaces described in \cref{def:topology} one might add further restrictions to specify the space considered.
\begin{definition}{Hausdorff space}{hausdorff}
    A topological space \topology{X} is called a \emph{Hausdorff space} if for any \(p,q\in X\) with \(p\neq q\), there exists a neighborhood \(U\) of \(p\), i.e. \(p \in U \in \tau_X\), and a neighborhood \(V\) of \(q\) such that \(U \cap V = \emptyset\).
\end{definition}

\subsection{Continuity and Homeomorphisms}
With the notion of topological spaces, we may ask ourselves whether certain maps between topological spaces can preserve the topology. One requirement is certainly that such a map has to associate open sets in its domain to open sets in its codomain, with respect to the topologies considered.
\begin{definition}{Open mapping}{open_mapping}
    Let \topology{X} and \topology{Y} be topological spaces. An \emph{open mapping} \(f : X \to Y\) is a map such that \(f(U) \in \tau_Y\) if \(U \in \tau_X\), that is, it maps open sets to open sets.
\end{definition}

Closely related and important to preserving the topological structure is that of a \emph{continuous map}, familiar from standard analysis on the real line.
\begin{definition}{Continuous map}{continuity}
    Let \topology{X} and \topology{Y} be topological spaces. Then a map \(f : X \to Y\) is \emph{continuous} (with respect to \(\tau_X\) and \(\tau_Y\)) if, for all \(V \in \tau_Y\), the preimage \(\preim{f}{V}\) is an open set in \(\tau_X\).
\end{definition}

In short, a map is continuous if and only the preimages of (all) open sets are open sets. Another useful characterization of continuity can be made with closed sets.
\begin{proposition}{Continuity and closed sets}{continuity_closed}
    Let \topology{X} and \topology{Y} be topological spaces. A map \(f : X \to Y\) is continuous if and only if for all closed sets \(V \subset Y\), the preimage \(\preim{f}{V}\) is a closed set in \(\tau_X\).
\end{proposition}
\begin{proof}
    Notice \(\preim{f}{Y\setminus V} = X \setminus \preim{f}{V}\) for any subset \(V \subset Y\). Indeed, we have
    \begin{align*}
        \preim{f}{Y \setminus V} &= \setc{x \in X}{f(x) \in Y \setminus V}\\&= \setc{x \in X}{f(x) \notin V}\\&=\setc{x \in X}{x \notin \preim{f}{V}}\\&= X \setminus \preim{f}{V}.
    \end{align*}
    In particular, we also have \(\preim{f}{V} = X \setminus \preim{f}{Y\setminus V}\).

    Suppose \(f\) is continuous. Let \(V \subset Y\) be a closed set in \(\tau_Y\), then \(Y\setminus V \in \tau_Y\). By continuity \(\preim{f}{Y \setminus V} = X \setminus\preim{f}{V} \in \tau_X\), then \(\preim{f}{V}\) is closed.

    Suppose the preimage of any closed set in \topology{Y} is closed in \topology{X}. Let \(U \in \tau_Y\) be an open set, then \(Y\setminus U\) is closed and so is \(\preim{f}{Y\setminus U}\). Since \(\preim{f}{U} = X \setminus \preim{f}{Y\setminus U}\), the preimage of \(U\) is open, hence \(f\) is continuous.
\end{proof}

\begin{proposition}{Inclusion map is continuous}{inclusion_continuous}
    Let \((X, \tau_X)\) be a topological space, let \(S \subset X\) be a subset, and let \(\tau_S\) be the subspace topology on \(S\). The inclusion map \(\imath : S \to X\) defined by \(\imath = \restrict{\id{X}}{S}\) is continuous with respect to \(\tau_S\) and \(\tau_X\). Moreover, the map \(\jmath : X \to \set{x} \times X\) defined by \(y \mapsto (x,y)\) is continuous for all \(x \in X\) with respect to the subspace topology inherited by the product topology on \(X \times X\).
\end{proposition}
\begin{proof}
    Let \(V \in \tau_X,\) then
    \begin{equation*}
        \preim{\imath}{V} = \setc{s \in S}{\imath(s) \in V} = \setc{s \in S}{s \in V} = S \cap V \in \tau_S,
    \end{equation*}
    hence \(\imath\) is continuous.

    Let \(U \in \tau_{\set{x} \times X}\), then for all \(y \in X\), there exists \(V_y \in \tau_X\) such that \(\set{x} \times V_y \subset U,\) hence \(U = \bigcup_{y \in X} \set{x} \times V_y = \set{x} \times \bigcup_{y \in X} V_y\), and we conclude there exists \(\tilde{U} \in \tau_X\) such that \(U = \set{x} \times \tilde{U}\). We have
    \begin{equation*}
        \preim{\jmath}{U} = \setc{y \in X}{\jmath(y) \in U} = \setc{y \in X}{y \in \tilde{U}} = \tilde{U},
    \end{equation*}
    thus showing \(\jmath\) is continuous.
\end{proof}

We may now define the structure preserving map of a topological space.
\begin{definition}{Homeomorphism}{homeomorphism}
    Let \topology{X} and \topology{Y} be topological spaces. A \emph{homeomorphism} is a continuous bijection \(f : X \to Y\) that is an open mapping.
\end{definition}

An equivalent definition is that a homeomorphism is a continuous map with a continuous inverse map.
\begin{theorem}{Homeomorphism and continuity of inverse}{homeomorphism_inverse}
    Let \topology{X} and \topology{Y} be topological spaces. A bijection \(f : X \to Y\) is a homeomorphism if and only if \(f : X \to Y\) and \(f^{-1} : Y \to X\) are continuous maps.
\end{theorem}
\begin{proof}
    Suppose \(f\) is a continuous and open bijection. Let \(U \in \tau_X\) be an open set, then \(f(U) \in \tau_Y\) is open. Since \(f\) is a bijection, \(\preim{f^{-1}}{U} = f(U)\), hence \(f^{-1}\) is continuous.

    Suppose \(f\) and \(f^{-1}\) are continuous maps. Let \(U \in \tau_X\) be an open set. By continuity, the preimage \(\preim{f^{-1}}{U} \in \tau_Y\) is an open set. Since \(f\) is bijective, it follows that \(f(U) = \preim{f^{-1}}{U} \in \tau_Y\), hence \(f\) is an open mapping.
\end{proof}

Before showing homeomorphisms map closed sets to closed sets we recall a result from set theory.
\begin{lemma}{Image of a union}{union}
    Let \(f : X \to Y\) be a mapping. If \(A, B \in \mathbb{P}(X)\), then \(f(A) \cup f(B) = f(A \cup B)\).
\end{lemma}
\begin{proof}
    Clearly \(A \subset A\cup B\) and \(B \subset A\cup B\), hence by \(f(A) \subset f(A \cup B)\) and \(f(B) \subset f(A \cup B)\) we conclude \(f(A) \cup f(B) \subset f(A \cup B)\).

    If either \(A = \emptyset\) or \(B = \emptyset\), then the equality is trivially satisfied, so we may assume \(A \cup B \neq \emptyset\). Let \(y \in f(A \cup B)\), then there exists \(x \in A \cup B\) such that \(y = f(x)\). That is, \(x \cup A \lor x \cup B\), hence \(y \in f(A) \lor y \in f(B)\). This shows \(y \in f(A) \cup f(B)\), hence \(f(A \cup B) \subset f(A) \cup f(B)\).
\end{proof}

\begin{proposition}{Homeomorphism maps closed sets to closed sets}{homeomorphism_closed}
    Let \topology{X} and \topology{Y} be topological spaces. If \(f : X \to Y\) is a homeomorphism, then \(f\) maps closed sets in \(\tau_X\) into closed sets in \(\tau_Y\).
\end{proposition}
\begin{proof}
    Let \(F\subset X\) be a closed set in \(\tau_X\), then \(f(X \setminus F) \in \tau_Y\) since \(f\) is an open mapping. Notice \(f(X \setminus F) \cup f(F) = Y\) since \(f\) is surjective. As \(f\) is injective, we must have \(f(F) = Y \setminus f(X\setminus F)\), hence \(f(F)\) is closed in \(\tau_Y\).
\end{proof}

If there exists a homeomorphism between two topological spaces, they are said to be \emph{homeomorphic} to each other. In fact, this establishes an equivalence relation on topological spaces, thanks to the continuity o the composition of continuous maps.
\begin{theorem}{Composition of continuous maps}{continuous_composition}
Let \topology{X}, \topology{Y}, and \topology{Z} be topological spaces. If the maps \(f: X \to Y\) and \(g : Y \to Z\) are continuous (with respect to the appropriate topologies), then the map \(g \circ f : X \to Z\) is continuous with respect to \(\tau_X\) and \(\tau_Z\).
\end{theorem}
\begin{proof}
    Let \(V\) be an open set of \topology{Z}. We must show the preimage \((g \circ f)^{-1}(V)\) is an open set of \topology{X}. We have
    \begin{align*}
        (g\circ f)^{-1}(V) &= \setc{x \in X }{g\circ f(x) \in V}\\
                           &= \setc{x \in X }{f(x) \in \preim{g}{V}}\\
                           &= \preim{f}{\preim{g}{V}}.
    \end{align*}
    Since the map \(g\) is continuous and \(V\) is an open set in \topology{Z}, it follows that \(\preim{g}{V}\) is open in \topology{Y}. By the same argument, \(\preim{f}{\preim{g}{V}}\) is an open set in \topology{X}.
\end{proof}

\begin{corollary}
    If two topological spaces \topology{X} and \topology{Y} are homeomorphic, we write \(\topology{X} \cong \topology{Y}\). Then, \(\cong\) is an equivalence relation on topological spaces.
\end{corollary}
\begin{proof}
    It is clear \(\topology{X} \cong \topology{X}\) for any topological space \topology{X}. In particular, the map \(\id{X}\) is a homeomorphism. Moreover, it is clear that \(\topology{X} \cong \topology{Y} \iff \topology{Y} \cong \topology{X}\), after all homeomorphisms are continuous bijections with continuous inverses.

    Let \topology{X}, \topology{Y}, and \topology{Z} be topological spaces, where \(X \cong Y\) and \(Y \cong Z\). Let \(f : X \to Y\) and \(g : Y \to Z\) be homeomorphisms from \topology{X} to \topology{Y} and \topology{Y} to \topology{Z}, respectively. Consider the composition \(g\circ f : X \to Z\).
    \begin{equation*}
        \begin{tikzcd}[column sep = normal, row sep = large]
            X \arrow{r}{f} \arrow[swap]{dr}{g\circ f} & Y \arrow{d}{g} \\
                                                      & Z
        \end{tikzcd}
    \end{equation*}
    By \cref{thm:continuous_composition}, the map \(g\circ f\) is a homeomorphism from \topology{X} to \topology{Z}.
\end{proof}

As was done for the subspace topology, we prove a similar result for continuous maps.
\begin{proposition}{Restriction of a continuous map}{restriction_map}
    Let \topology{X} and \topology{Y} be topological spaces and let \(f : X \to Y\) be a continuous map. Let \(S\) be a subset of \(X\) and let \topology{S} be the subspace topology, then \(\restrict{f}{S} : S \to Y\) is a continuous map with respect to \(\tau_S\) and \(\tau_Y\).
\end{proposition}
\begin{proof}
    Let \(V \in \tau_Y\). Then, by the definition of preimage, we have
    \begin{align*}
        \preim{\restrict{f}{S}}{V} &= \setc{s \in S}{\restrict{f}{S}(s) \in V}\\
                                &= \setc{s \in S}{f(s) \in V}\\
                                &= \preim{f}{V} \cap S.
    \end{align*}
    By hypothesis, the preimage \(\preim{f}{V}\) is an open set in \topology{X}, so \(\preim{\restrict{f}{S}}{V}\) is an open set in the subspace topology.
\end{proof}

\subsection{Topologies generated by a collection of subsets}
It's often the case that is too difficult to specify the entire collection of open sets for a topology, so it would be desirable to specify a smaller collection that is able to define such a topology.
\begin{definition}{Basis for a topology}{basis_topology}
    Let \(X\) be a set. A \emph{basis for a topology on \(X\)} is a collection \(\mathcal{B}\subset\mathbb{P}(X)\) of subsets of \(X\)
    \begin{enumerate}[label=(\alph*)]
        \item For all \(x \in X\) there exists \(B \in \mathcal{B}\) such that \(x \in B\); and
        \item For every \(B_1, B_2  \in \mathcal{B}\) and every point \(x \in B_1 \cap B_2,\) there exists \(B_3 \in \mathcal{B}\) such that \(x \in B_3 \subset B_1 \cap B_3\).
    \end{enumerate}
    A \emph{basis element}, or \emph{basic open set}, is any set \(B \in \mathcal{B}\).
\end{definition}

\begin{proposition}{Topology generated by a basis}{basis_topology}
    Let \(X\) be a set and let \(\mathcal{B}\) be a basis for a topology on \(X\). The set
    \begin{equation*}
        \tau_{\mathcal{B}} = \setc*{U \in \mathbb{P}(X)}{\forall x \in U : \exists B \in \mathcal{B} : x \in B \subset U}
    \end{equation*}
    is a topology on \(X\), and each basis element \(B \in \mathcal{B}\) is an open set with respect to \(\tau_{\mathcal{B}}\). Moreover, 
    \begin{equation*}
        \tau_{\mathcal{B}} = \setc*{\bigcup_{B \in \mathcal{C}}{B}}{\mathcal{C} \in \mathbb{P}(\mathcal{B})},
    \end{equation*}
    that is, \(\tau_{\mathcal{B}}\) is the collection of all unions of basis elements.
\end{proposition}
\begin{proof}
    It is clear we may assume \(X\) is non-empty. Notice \(X \in \tau_{\mathcal{B}}\) by definition and \(\emptyset \in \tau_{\mathcal{B}}\) vacuously. Let \(U, V \in \tau_\mathcal{B}\), then for all \(x \in U \cap V\) there exists \(B_U, B_V \in \mathcal{B}\) such that \(x \in B_U \cap B_V\), and thus there exists \(B \in \mathcal{B}\) such that \(x \in B \subset B_U \cap V_B \subset U \cap V\), hence \(U \cap V \in \tau_{\mathcal{B}}\). Let \(\family{U_{\lambda}}{\lambda \in \Lambda} \subset \tau_\mathcal{B},\) and let \(x \in \bigcup_{\lambda \in \Lambda}{U_\lambda}\), then there exists \(\tilde{\lambda} \in \Lambda\) such that \(x \in U_{\tilde{\lambda}}\), hence \(\bigcup_{\lambda \in \Lambda}{U_\lambda} \in \tau_{\mathcal{B}}\) as there exists \(B \in \mathcal{B}\) such that \(x \in B \subset U_{\tilde{\lambda}} \subset \bigcup_{\lambda \in \Lambda}{U_\lambda}\). We have thus shown \(\tau_{\mathcal{B}}\) is a topology in \(X\). 

    Notice \(B \in \mathcal{B}\) trivially belongs to \(\tau_{\mathcal{B}}\) as we have \(B \subset B\). Hence, the collection of all unions of basis elements is a subset of the topology \(\tau_{\mathcal{B}}\). Let \(U \in \tau_{\mathcal{B}}\), then for all \(x \in U\) there exists a \(B_x \in \mathcal{B}\) such that \(x \in B_x \subset U\), and we have \(U = \bigcup_{x \in U} B_x,\) concluding the proof.
\end{proof}

\begin{proposition}{Basis for a given topology}{topology_has_basis}
    Let \((X, \tau)\) Be a topological space. If \(\mathcal{B} \subset \tau\) is a collection of open sets of \(X\) such that
    \begin{equation*}
        \forall U \in \tau : x \in U \implies \exists B \in \mathcal{B} : x \in B \subset U,
    \end{equation*}
    then \(\mathcal{B}\) is a basis for \(\tau\).
\end{proposition}
\begin{remark}
    It is clear a topology is a basis for itself.
\end{remark}
\begin{proof}
    Let \(x \in X\), then as \(X \in \tau\), there exists \(B \in \mathcal{B}\) such that \(x \in B\) by hypothesis. Let \(B_1, B_2 \in \mathcal{B} \subset \tau\), then \(B_1 \cap B_2 \in \tau\) hence for all \(x \in B_1 \cap B_2\) there exists \(B \in \mathcal{B}\) such that \(x \in B \subset B_1 \cap B_2\), thus \(\mathcal{B}\) is a basis for a topology. Let \(\tau_{\mathcal{B}}\) be the topology generated by \(\mathcal{B}.\)

    Let \(U \in \tau,\) then for all \(x \in U\) there exists \(B \in \mathcal{B}\) such that \(x \in B \subset U\), hence \(U \in \tau_{\mathcal{B}}\) by definition. Let \(V \in \tau_{\mathcal{B}},\) then by \cref{prop:basis_topology} there exists \(\mathcal{C} \subset \mathcal{B}\) such that \(V = \bigcup_{B \in \mathcal{C}}{B},\) and as \(\mathcal{C} \subset \tau,\) \(V\) is a union of open sets in \(\tau\), hence \(V \in \tau.\)
\end{proof}

\begin{definition}{Comparison of topologies}{topology_comparison}
    Let \(X\) be a set and let \(\tau, \tilde{\tau} \subset \mathbb{P}(X)\) be topologies on \(X\). If \(\tau \subset \tilde{\tau},\) we say \(\tilde{\tau}\) is \emph{finer} than \(\tau\) and that \(\tau\) is \emph{coarser} than \(\tilde{\tau}\). If either \(\tau \subset \tilde{\tau}\) or \(\tilde{\tau} \subset \tau\), we say \(\tau\) and \(\tilde{\tau}\) are \emph{comparable}.
\end{definition}

\begin{proposition}{Intersection of a collection of topologies}{intersection_topology}
    Let \(X\) be a set, and let \(\mathcal{T}\) be a collection of topologies on \(X\). Then \(\tau = \bigcap_{\tilde{\tau} \in \mathcal{T}}{\tilde{\tau}}\) is a topology on \(X\) and is coarser than any topology in \(\mathcal{T}\).
\end{proposition}
\begin{proof}
    Notice \(\emptyset \in \tau\) \(X \in \tau\) as each \(\tilde{\tau} \in \mathcal{T}\) is a topology. Let \(U, V \in \tau\), then \(U, V \in \tilde{\tau}\) for all \(\tilde{\tau} \in \mathcal{T}\), hence \(U \cap V \in \tilde{\tau}\) and we conclude \(U \cap V \in \tau.\) Let \(\family{U_\lambda}{\lambda \in \Lambda} \subset \tau,\) then for all \(\lambda \in \Lambda, \tilde{\tau} \in \mathcal{T}\) we have \(U_\lambda \in \tilde{\tau},\) hence \(\bigcup_{\lambda \in \Lambda}{U_\lambda} \in \tilde{\tau}\) and we conclude this union lies in \(\tau\), hence \(\tau\) is a topology on \(X\). By construction, it is clear that \(\tilde{\tau} \in \mathcal{T}\) implies \(\tau \subset \tilde{\tau}\), hence \(\tau\) is coarser than \(\tilde{\tau}\).
\end{proof}

\begin{proposition}{Necessary and sufficient condition for comparison of topologies}{topology_comparison}
    Let \(X\) be a set and let \(\mathcal{B}, \tilde{\mathcal{B}} \subset \mathbb{P}(X)\) be basis for the topologies \(\tau\) and \(\tilde{\tau}\). The conditions are equivalent:
    \begin{enumerate}[label=(\alph*)]
        \item \(\tilde{\tau}\) is finer than \(\tau\); and
        \item For each \(x \in X\) and each basis element \(B \in \mathcal{B}\) containing \(x\), there is a basis element \(\tilde{B} \in \tilde{\mathcal{B}}\) such that \(x \in \tilde{B} \subset B\).
    \end{enumerate}
\end{proposition}
\begin{proof}
    Suppose \(\tilde{\tau}\) is finer than \(\tau\), then as \(\mathcal{B} \subset \tau \subset \tilde{\tau}\), every basis element of \(\mathcal{B}\) is a basis element of \(\tilde{\mathcal{B}}\), hence (b) follows. To show the converse, let \(U \in \tau,\) and let \(x \in U\), then there is \(B \in \mathcal{B}\) such that \(x \in B \subset U\), and by hypothesis there exists \(\tilde{B} \in \tilde{\mathcal{B}}\) such that \(x \in \tilde{B} \subset B \subset U\), hence \(U \in \tilde{\tau}\), concluding the proof.
\end{proof}

It is possible to define even less than a basis in order to define a topology. Holding on to the first basis property, we define a \emph{subbasis}.
\begin{definition}{Subbasis for a topology}{subbasis}
    Let \(X\) be a set. A \emph{subbasis for a topology on \(X\)} is a collection \(\mathcal{S} \subset \mathbb{P}(X)\) with \(\bigcup_{S \in \mathcal{S}}{S} = X\).
\end{definition}

It turns out that the set of finite intersections of a subbasis is enough to define a basis for a topology.
\begin{proposition}{Topology generated by a subbasis}{subbasis_topology}
    Let \(X\) be a set and let \(\mathcal{S}\) be a subbasis for a topology on \(X\). Let \(\mathcal{B}\) be collection of all finite intersections of elements of \(\mathcal{S}\), 
    \begin{equation*}
        \mathcal{B}_{\mathcal{S}} = \setc*{\bigcap_{S \in \mathcal{F}}{S}}{\mathcal{F} \in \mathbb{P}(\mathcal{S}) : \mathcal{F}\text{ is finite}},
    \end{equation*}
    then 
    \begin{equation*}
        \tau_{\mathcal{S}} = \setc*{\bigcup_{B \in \mathcal{C}}{B}}{\mathcal{C} \subset \mathbb{P}(\mathcal{B}_{\mathcal{S}})}
    \end{equation*}
    is a topology on \(X\). Moreover, \(\tau_{\mathcal{S}}\) is the unique topology on \(X\) satisfying
    \begin{enumerate}[label=(\alph*)]
        \item \(\mathcal{S} \subset \tau_{\mathcal{S}}\); and
        \item If \(\tau\) is a topology on \(X\), then the implication \(\mathcal{S} \subset \tau \implies \tau_{\mathcal{S}} \subset \tau\) holds;
    \end{enumerate}
    that is, \(\tau_\mathcal{S}\) is the coarsest topology for which every element of \(\mathcal{S}\) is open.
\end{proposition}
\begin{proof}
    By \cref{prop:basis_topology}, it suffices to show \(\mathcal{B}_\mathcal{S}\) is a basis for a topology on \(X\). As \(\mathcal{S}\) is a subbasis, \(X = \bigcup_{S \in \mathcal{S}}{S}\), then for all \(x \in X\) there exists \(S \in \mathcal{S}\) such that \(x \in S \subset \mathcal{B}_{\mathcal{S}}\). Let \(B_1, B_2 \in \mathcal{B}_\mathcal{S}\), then \(B_3 = B_1 \cap B_2 \in \mathcal{B}_{\mathcal{S}}\) and we have \(x \in B_3 \subset B_1 \cap B_2\) for all \(x \in B_1 \cap B_2\). 

    It is clear that \(\mathcal{S} \subset \tau_{\mathcal{S}}\). Let \(\tau\) be a topology on \(X\) with \(\mathcal{S} \subset \tau\), hence finite intersections of \(\mathcal{S}\) are open sets with respect to \(\tau\), that is, \(\mathcal{B}_\mathcal{S} \subset \tau\), and thus \(\tau_{\mathcal{S}} \subset \tau\) as unions of open sets are open. We have thus shown \(\tau_\mathcal{S}\) satisfies conditions (a) and (b).

    Let \(\tilde{\tau}\) be a topology on \(X\) satisfying (a) and (b), then \(\mathcal{S} \subset \tau_{\mathcal{S}}\) and \(\mathcal{S} \subset \tilde{\tau}\). By property (b) of \(\tau_\mathcal{S}\) applied to \(\tilde{\tau}\), we have \(\tau_\mathcal{S} \subset \tilde{\tau}\). Analogously, we have \(\tilde{\tau} \subset \tau_\mathcal{S}\), and we conclude \(\tilde{\tau} = \tau_\mathcal{S}\), concluding the proof.
\end{proof}

It is possible to relate the continuity of a map with respect to a topology to the preimage of basic elements of some basis that generates the topology. Before showing that, prove a related lemma from set theory related to intersection and union of preimages.
\begin{lemma}{Union and intersection of preimages}{union_intersection_preimage}
    Let \(X\) and \(Y\) be non-empty sets. If \(\mathcal{V} \subset \power{Y}\) is a non-empty collection of subsets of \(Y\), then
    \begin{equation*}
        \preim{f}{\bigcup \mathcal{V}} = \bigcup_{V \in \mathcal{V}} \preim{f}{V}
        \quad\text{and}\quad
        \preim{f}{\bigcap \mathcal{V}} = \bigcap_{V \in \mathcal{V}} \preim{f}{V}
    \end{equation*}
    for any mapping \(f : X \to Y\).
\end{lemma}
\begin{proof}
    We have
    \begin{align*}
        \preim{f}{\bigcup \mathcal{V}} &= \setc*{x \in X}{f(x) \in \bigcup_{V \in \mathcal{V}} V}&
        \preim{f}{\bigcap \mathcal{V}} &= \setc*{x \in X}{f(x) \in \bigcap_{V \in \mathcal{V}} V}\\
                                        &= \setc*{x \in X}{\exists V \in \mathcal{V} : f(x) \in V}&
                                        &= \setc*{x \in X}{\forall V \in \mathcal{V} : f(x) \in V}\\
                                        &= \bigcup_{V \in \mathcal{V}} \setc{x \in X}{f(x) \in V}&
                                        &= \bigcap_{V \in \mathcal{V}} \setc{x \in X}{f(x) \in V}\\
                                        &= \bigcup_{V \in \mathcal{V}} \preim{f}{V}&
                                        &= \bigcap_{V \in \mathcal{V}} \preim{f}{V},
    \end{align*}
    as claimed.
\end{proof}

\begin{proposition}{Continuity with respect to a basis}{continuity_basis}
    Let \((X, \tau_X)\) and \((Y,\tau_Y)\) be topological spaces and let \(\mathcal{B}_Y\) be a basis for \(\tau_Y\). A map \(f : X \to Y\) is continuous if and only if the preimage of every basis element of \(\mathcal{B}_Y\) is open in \(X\).
\end{proposition}
\begin{proof}
    Suppose \(f\) is continuous, then as \(\mathcal{B}_Y \subset \tau_Y,\) it follows that the preimage of basis elements is open. To show the converse, let \(V \in \tau_Y\), then there exists a collection \(\mathcal{V} \subset \mathcal{B}_Y\) such that \(V = \bigcup \mathcal{V}\), hence \(\preim{f}{V} = \bigcup_{B \in \mathcal{V}} \preim{f}{B}\) is a union of open sets in \(\tau_X\).
\end{proof}

\begin{proposition}{Continuity with respect to a subbasis}{continuity_subbasis}
    Let \((X, \tau_X)\) and \((Y,\tau_Y)\) be topological spaces, and let \(\mathcal{S} \subset \tau_Y\) be a subbasis for \(\tau_Y\). A map \(f : X \to Y\) is continuous if and only if \(\preim{f}{S} \in \tau_X\) for all \(S \in \mathcal{S}\).
\end{proposition}
\begin{proof}
    Suppose \(f\) is continuous, then as \(\mathcal{S} \subset \tau_Y,\) it follows that the preimage of elements of \(\mathcal{S}\) is open. To show the converse, denote \(\mathcal{B}_\mathcal{S}\) as the basis defined by the subbasis and let \(B \in \mathcal{B}_\mathcal{S},\) then there exists \(\mathcal{F} \subset \mathcal{S}\) finite such that \(B = \bigcap \mathcal{F}\) and we have \(\preim{f}{B} = \bigcap_{S \in \mathcal{F}}{\preim{f}{S}} \in \tau_X\), hence \(f\) is continuous by \cref{prop:continuity_basis}.
\end{proof}

\begin{proposition}{Initial topology}{initial_topology}
    Let \(X\) be a set, let \(\family{(Y_\lambda, \tau_\lambda)}{\lambda \in \Lambda}\) be an indexed family of topological spaces, and let \(\family{f_\lambda}{\lambda \in \Lambda}\) be an index family of maps \(f_\lambda : X \to Y_\lambda\). For all \(\lambda \in \Lambda\), let
    \begin{equation*}
        S_\lambda = \setc*{\preim{f_\lambda}{U}}{U \in \tau_\lambda}
    \end{equation*}
    and set \(\mathcal{S} = \bigcup_{\lambda \in \Lambda}{S_\lambda}\). Then \(\mathcal{S}\) is a subbasis for the coarsest topology \(\tau\) on \(X\) such that each \(f_\lambda\) is continuous. This topology is called the \emph{initial topology} with respect to the family of maps and topological spaces.
\end{proposition}
\begin{proof}
    Notice \(X \in S_\lambda\) for all \(\lambda \in \Lambda\), since we have \(X = \preim{f_\lambda}{Y}\), hence \(\mathcal{S}\) is a subbasis for a topology, \(\tilde{\tau}\) say. Let \(U \in \tau_\lambda,\) then \(\preim{f_\lambda}{U} \in S_\lambda \subset \tilde{\tau}\), hence \(f_\lambda\) is continuous.

    Let \(\tau\) be a topology on \(X\) such that each \(f_\lambda\) is continuous. Let \(U \in \mathcal{S},\) then there exists \(\lambda \in \Lambda\) and \(V \in Y_\lambda\) such that \(U = \preim{f_\lambda}{V}\), hence \(U \in \tau\) by continuity. This shows \(\mathcal{S} \subset \tau,\) therefore \(\tilde{\tau} \subset \tau\) by \cref{prop:subbasis_topology}, and we conclude \(\tilde{\tau}\) is the coarsest topology relative to which every \(f_\lambda\) is continuous.
\end{proof}

\subsection{Closure and interior of a set}
Every subset on a topological space defines a closed set that contains it and an open set that is contained in it. Let's begin with the closure of a set.
\begin{definition}{Closure of a set}{closure}
    Let \topology{X} be a topological space and let \(S \subset X\) be a subset. A \emph{point of closure of \(S\)} is a point \(x \in X\) such that every neighborhood \(U\in\tau_X\) of \(x\) has non-empty intersection with \(S\). The \emph{closure \(\cl_{(X, \tau_X)}{S}\) of \(S\)} is the set of all points of closure of \(S\).
\end{definition}
\begin{remark}
    We may simply write \(\cl_X S\) or \(\cl S\) if the topological space is understood.
\end{remark}
\begin{remark}
    It should be clear that every point of \(S\) is a point of closure, that is \(S \subset \cl{S}\). Indeed, let \(s \in S\), then every neighborhood of \(s\) contains \(s,\) a point in \(S\). That is, \(s\) is a point of closure of \(S\), and we may conclude \(S \subset \cl S\).
\end{remark}

We motivate the name \emph{closure} by showing that every closure is closed. Furthermore, we will show a closed set is already its closure and conclude the closure is the smallest (in the sense of inclusion) closed set that contains a set.
\begin{lemma}{Closure of a set is closed}{closure_is_closed}
    Let \((X, \tau)\) be a topological space and let \(S\subset X\) be a subset. Then \(\cl S\) is closed.
\end{lemma}
\begin{proof}
    Let \(x \notin \cl S\). Then there is a neighborhood \(U_x\) of \(x\) that does not intersect with \(S\). Since \(U_x\) is a neighborhood for each of its points, we also have \(U_x \cap \cl S = \emptyset\), hence \(U_x \subset X \setminus \cl S\). Then \(X \setminus \cl{S} = \bigcup_{x \in X\setminus \cl S} U_x\), thus \(X \setminus \cl{S}\) is open.
\end{proof}
\begin{lemma}{A closed set is its closure}{closure_closed}
    Let \((X, \tau)\) be a topological space. A subset \(S \subset X\) is closed if and only if \(S = \cl S\).
\end{lemma}
\begin{proof}
    Suppose \(S = \cl S\). By \cref{lem:closure_is_closed}, the closure is closed, then \(S\) is closed.

    Suppose \(S\) is closed, then \(X \setminus S\) is open. Then \(X \setminus S\) is a neighborhood of any of its points that does not contain any elements of \(S\), that is, \(x \in X\setminus S \implies x \notin \cl S\). Then we conclude \(S = \cl S\).
\end{proof}
\begin{theorem}{Closure as the smallest closed set}{closure_smallest}
    Let \((X, \tau)\) be a topological space. If \(S\subset X\) is a subset, there exists no closed subset \(A \subset X\) such that \(S \subset A \subsetneq \cl S\).
\end{theorem}
\begin{proof}
    Let \(A\) be a closed subset of \(X\) that contains \(S\). Let \(x \in \cl{S}\), then for every neighborhood of \(x\) has non-empty intersection with \(S\), and as a result, with \(A\) too. Hence, \(x \in \cl{A} = A\), thus showing \(\cl{S} \subset A\).
\end{proof}
\begin{corollary}
    Let \((X, \tau)\) be a topological space. If \(S \subset X\) is a subset, its closure \(\cl{S}\) is the intersection of every closed set in \(X\) that contains \(S\).
\end{corollary}
\begin{proof}
    Let \(F = \bigcap \setc{A \in \mathbb{P}(X)}{X \setminus A \in \tau \land S \subset A}\) be the intersection of all closed sets that contain \(S\). In the previous proof, we have shown the closure is contained in every closed set that contains \(S\), that is, \(\cl{S} \subset F\). Let \(x \in F\), then \(x\) is an element of every closed set that contains \(S\). In particular, \(x \in \cl{S}\), hence \(F \subset \cl{S}\).
\end{proof}
\begin{corollary}
    Let \((X, \tau)\) be a topological space. If \(S \subset X\) is a closed subset of \(X\) and \(T \subset S\) is a subset of \(S\), then \(\cl{T} \subset S\).
\end{corollary}
\begin{proof}
    Since \(T \subset S\) and \(T \subset \cl{T}\), we must have \(\cl{T} \subset S\).
\end{proof}

We may use closures to provide an additional characterization of continuity.
\begin{theorem}{Closure and continuity}{closure_continuity}
    Let \topology{X} and \topology{Y} be topological spaces. The map \(f : X \to Y\) is continuous if and only if \(f(\cl_XS) \subset \cl_Y(f(S))\) for all \(S \subset X\).
\end{theorem}
\begin{proof}
    Suppose \(f\) is continuous and let \(S \subset X\). Notice \(S \subset \preim{f}{f(S)}\) and \(f(S) \subset \cl_Y(f(S))\), then
    \begin{equation*}
        S \subset \preim{f}{f(S)} \subset \preim{f}{\cl_Y{f(S)}}.
    \end{equation*}
    By continuity, \(\preim{f}{\cl_Y(f(S))}\) is closed in \(X\), hence \(\cl_XS \subset \preim{f}{\cl_Y{f(S)}}\). This shows \(f(\cl_X(S)) \subset \cl_Y(f(S))\).

    Suppose for all \(S \in \mathbb{P}(X)\) we have \(f(\cl_XS) \subset \cl_Y(f(S))\) and let \(V\) be a closed set in \(Y\). Let \(U = \preim{f}{V} \in \mathbb{P}(X)\), then \(V = f(U) \subset f(\cl_X U)\). By hypothesis, \(f(\cl_XU) \subset \cl_Y(f(U)) = V\), since \(V\) is closed. We have thus shown \(f(\cl_X(U)) = V\), hence \(\cl_X(U) \subset \preim{f}{V} = U\) implies \(U\) is closed.
\end{proof}

We now move on to the interior of a set.
\begin{definition}{Interior of a set}{interior}
    Let \topology{X} be a topological space and let \(S \subset X\) be a subset. An \emph{interior point of \(S\)} is a point \(x \in X\) such that there exists a neighborhood \(U \in \tau_X\) of \(x\) that is contained in \(S\). The \emph{interior \(\inte_{\topology{X}}S\) of \(S\)} is the set of all interior points of \(S\).
\end{definition}
\begin{remark}
    We may simply write \(\inte_X S\) or \(\inte S\) if the topological space is understood.
\end{remark}
\begin{remark}
    It should be clear that every interior point of \(S\) is a point of \(S\), that is \(\inte S \subset S\). Indeed, let \(x \in \inte S\), then there exists a neighborhood \(U_x\) of \(x\) that is contained in \(S\). That is, \(x\) belongs to \(S\), and we may conclude \(\inte S \subset S\). Moreover, since \(U_x\) is a neighborhood for its elements, we conclude \(U_x \subset \inte S\).
\end{remark}
Similarly to the closure, the interior of a set is an open set. Moreover, it is the largest open set contained in it.
\begin{lemma}{Interior of a set is open}{interior_is_open}
    Let \topology{X} be a topological space and let \(S \subset X\) be a subset. Then \(\inte S\) is open.
\end{lemma}
\begin{proof}
    Let \(x \in \inte S\) be an interior point. Then consider the union of every neighborhood of \(x\) that is contained in \(S\), \(U_x = \bigcup \setc{U \in \tau_X}{x \in U \land U \subset S}\). This set is open, hence \(\inte S = \bigcup_{x \in \inte S} U_x\) is open.
\end{proof}
\begin{lemma}{An open set is its interior set}{interior_open}
    Let \topology{X} be a topological space. A subset \(S \subset X\) is open if and only if \(S = \inte S\).
\end{lemma}
\begin{proof}
    Suppose \(S = \inte S\). By \cref{lem:interior_is_open}, \(S\) is open.

    Suppose \(S\) is open. Then every point of \(S\) is an interior point, as \(S \subset S\), hence \(S \subset \inte S\). Since \(\inte S \subset S\), we have \(S = \inte S\).
\end{proof}
\begin{theorem}{Interior as the largest open set}{interior_largest}
    Let \topology{X} be a topological space. If \(S \subset X\) is a subset, there exists no open subset \(A \subset X\) such that \(\inte S \subsetneq A \subset S\).
\end{theorem}
\begin{proof}
    Let \(A\) be an open subset of \(X\) that is contained in \(S\). Then every point of \(A\) is an interior point of \(S\), hence \(A \subset \inte S\).
\end{proof}
\begin{corollary}
    Let \topology{X} be a topological space. If \(S \subset X\) is a subset, its interior \(\inte S\) is the union of every open set in \(X\) that is contained in \(S\).
\end{corollary}
\begin{proof}
    Let \(U = \bigcup\setc{A \in \tau_X}{A \subset S}\) be the union of all open sets that are contained in \(S\). The previous result shows \(U \subset \inte S\). Since \(\inte S\) is an open set that is contained in \(S\), we have \(\inte S \subset U\), and the result follows.
\end{proof}
\begin{corollary}
    Let \topology{X} be a topological space. If \(S \subset X\) is an open subset of \(X\) and \(T \supset S\) is a subset that contains \(S\), then \(S \subset \inte{T}\).
\end{corollary}
\begin{proof}
    Since \(S \subset T\) and \(\inte T \subset T\), we must have \(S \subset \inte{T}\).
\end{proof}

Furthermore, we may relate the closure and interior of a set by means of the complement of the interior and closure of the complement.
\begin{theorem}{Closure and interior}{closure_interior}
    Let \topology{X} be a topological space. Then
    \begin{equation*}
        \inte S = X \setminus \cl(X \setminus S)\quad\text{and}\quad \cl{S} = X \setminus \inte(X \setminus S)
    \end{equation*}
    for any subset \(S \subset X\).
\end{theorem}
\begin{proof}
    Let \(x \in X\setminus\cl(X\setminus S)\), then \(x\) is not a point of closure of \(X \setminus S\). As a result, there exists a neighborhood \(U\) of \(x\) that has empty intersection with \(X \setminus S\), hence \(U \subset S\). We conclude \(X\setminus\cl(X \setminus S) \subset \inte S\).

    Let \(s \in \inte S\), then there exists a neighborhood \(V\) of \(s\) that is contained in \(S\). Since \(V \subset \inte S \subset S\), we have \(V \cap (X \setminus S) = \emptyset\), hence \(s\) is not a point of closure of \(X \setminus S\). We have thus shown \(\inte S = X \setminus \cl(X \setminus S)\).

    Finally, we replace \(S \mapsto X \setminus S\), obtaining \(\inte(X\setminus S) = X \setminus \cl S\). The complement yields \(\cl{S} = X \setminus \inte(X\setminus S)\) as desired.
\end{proof}
\begin{remark}
    This theorem makes it clear that descriptions that rely on closures can be restated as descriptions that rely on interiors and vice-versa.
\end{remark}

Finally, we show how closures and interiors are related with homeomorphisms. Before, we recall a couple of results from set theory.
\begin{lemma}{Image of a set difference}{difference_injection}
    Let \(f : X \to Y\) be a mapping. For every pair of subsets \(A, B \subset X\), \(f(A) \setminus f(B) \subset f(A\setminus B)\). Moreover, \(f(A \setminus B) = f(A) \setminus f(B)\) for all \(A, B \subset X\) if and only if \(f\) is injective.
\end{lemma}
\begin{proof}
    If \(A \cap B = \emptyset\), the result follows trivially. If \(A \subset B\), then \(f(A) \subset f(B)\), hence \(f(A) \setminus f(B) = \emptyset\) and \(f(A \setminus B) = \emptyset\), so the inclusion holds. If \(B \subset A\), then \(f(A \setminus B)\) and \(f(A) \setminus f(B)\) are non-empty. Let \(y \in f(A) \setminus f(B)\), then there exists \(a \in A\) such that \(y = f(a)\) and there exists no \(b \in B\) such that \(y = f(b)\). Then \(a \in A \setminus B\), hence \(y \in f(A \setminus B)\).

    Suppose \(f\) is injective. Let \(A, B \subset X\), then if \(A \setminus B = \emptyset\) or if \(A \setminus B = A\), the equality holds trivially, so we may assume \(A \setminus B \neq \emptyset\) and \(B \subset A\). Let \(y \in f(A \setminus B)\), then there exists \(x \in A \setminus B\) such that \(f(x) = y\). Since \(f\) is one-to-one, there exists no \(b \in B\) such that \(f(b) = f(x)\), hence \(y \notin f(B)\). Since \(f(A\setminus B) \subset f(A)\), we have \(y \in f(A) \setminus f(B)\).

    Suppose \(f(A\setminus B) = f(A) \setminus f(B)\) for all \(A, B \subset X\). If \(X\) is a singleton, then \(f\) is injective, so we may assume \(X\) has at least two elements. Suppose by contradiction \(f\) is not injective, then there exist \(x_1, x_2 \in X\) with \(x_1 \neq x_2\) such that \(f(x_1) = f(x_2)\). By hypothesis, we have \(f(\set{x_1}) = f(\set{x_1,x_2}) \setminus f(\set{x_2})\). Notice the right hand side is the empty set, since \(f(\set{x_1, x_2}) = \set{f(x_2)}\), hence \(f(\set{x_1}) = \emptyset\). This contradiction shows \(f\) is injective.
\end{proof}
\begin{lemma}{Image of an intersection}{intersection_injection}
    Let \(f : X \to Y\) be a mapping. For every pair of subsets \(A, B \subset X\), \(f(A \cap B) \subset f(A) \cap f(B)\). Moreover, \(f(A \cap B) = f(A) \cap f(B)\) for all \(A, B \subset X\) if and only if \(f\) is injective.
\end{lemma}
\begin{proof}
    Notice \(A \cap B \subset A\) and \(A \cap B \subset B\), then \(f(A \cap B) \subset f(A)\) and \(f(A \cap B) \subset f(B)\) since relations preserve inclusions. That is, \(f(A\cap B) \subset f(A) \cap f(B)\).

    Suppose \(f\) is injective. Let \(A, B \subset X\). If at least one is the empty set, the equality trivially holds, so we may assume neither subset is the empty set. Moreover, if \(f(A) \cap f(B) = \emptyset\) we have by the previous result \(f(A \cap B) = \emptyset\), so the equality holds, therefore we may assume \(f(A) \cap f(B) \neq \emptyset.\) Let \(y \in f(A) \cap f(B)\), then there exists \(a \in A\) and \(b \in B\) such that \(y = f(a)\) and \(y = f(b)\). As \(f\) is one-to-one, we must have \(a = b\), hence \(a \in A \cap B\). Then we conclude \(y \in f(A \cap B)\).

    Suppose \(f(A \cap B) = f(A) \cap f(B)\) for all \(A, B \subset X\). If \(X\) is a singleton, then \(f\) is vacuously injective, so we may assume \(X\) has at least two elements. Suppose, by contradiction, \(f\) is not injective, then there exist \(x_1, x_2 \in X\) with \(x_1 \neq x_2\) such that \(y = f(x_1) = f(x_2)\). That is, \(y \in f(\set{x_1}) \cap f(\set{x_2})\), hence \(y \in f(\set{x_1} \cap \set{x_2})\) by hypothesis. Since \(\set{x_1} \cap \set{x_2}\), we have \(y \in \emptyset\). This contradiction shows \(f\) is injective.
\end{proof}

\begin{theorem}{Image of closure and interior under homeomorphism}{closure_interior_homeomorphism}
    Let \topology{X} and \topology{Y} be topological spaces. If \(f : X \to Y\) is a homeomorphism and \(A \subset X\) is a subset, then \(\cl_Y(f(A)) = f(\cl_XA)\) and \(\inte_Y(f(A)) = f(\inte_XA)\).
\end{theorem}
\begin{proof}
    Let \(y \in f(\cl_XA)\), then \(f^{-1}(y) \in \cl_X A\). Let \(V \in \tau_Y\) be a neighborhood of \(y\), then \(f^{-1}(V) \in \tau_X\) is a neighborhood for \(f^{-1}(y)\) such that \(f^{-1}(V) \cap A \neq \emptyset\). Since \(f\) is injective, we have \(V \cap f(A) \neq \emptyset\), that is, \(y \in \cl_Y(f(A))\).

    Let \(y \in \cl_Y(f(A))\), then every neighborhood of \(y\) has a non-empty intersection with \(f(A)\). Since \(f^{-1}\) is injective, \(f^{-1}(y)\) is a point of closure of \(A,\) hence \(f^{-1}\left(\cl_Y(f(A))\right) \subset \cl_XA\). We conclude \(\cl_Y(f(A)) \subset f(\cl_XA)\), thus showing \(\cl_Y(f(A)) = f(\cl_XA)\).

    \cref{thm:closure_interior} yields \(f(\inte_XA) = f(X \setminus \cl_X(X\setminus A))\). Using \cref{lem:difference_injection} and surjectivity, we have \(f(\inte_XA) = Y \setminus f(\cl_X(X\setminus A)).\) By the previous result, we have \(f(\inte_XA) = Y \setminus \cl_Y(Y \setminus f(A))\). Using \cref{thm:closure_interior} again shows \(f(\inte_XA) = \inte_Y(f(A))\).
\end{proof}
\begin{remark}
    We could have used \cref{thm:closure_continuity} to show this result. Indeed, the hypothesis shows \(f(\cl_XA) \subset \cl_Y(f(A))\) and \(f^{-1}(\cl_Y(f(A))) \subset \cl_X(f^{-1}\circ f(A)) = \cl_XA\), hence \(\cl_Y(f(A)) \subset f(\cl_XA)\).
\end{remark}

\subsection{Dense and nowhere dense sets}
Closely related to the notions of closure and interior of a set is the concept of a dense set.
\begin{definition}{Dense set}{dense_set}
    Let \topology{X} be a topological space. A set \(S\) is \emph{dense in \(X\)} if \(\cl_X S = X\). Moreover, a set \(S\) is \emph{dense in a non-empty subset \(U \subset X\)} if \(S \cap U\) is dense in the subspace topology on \(U\).
\end{definition}
\begin{remark}
    It should be noted that if \(S\) is dense in \(X\), then it is dense in any non-empty open subset \(U \in \tau_X\). Indeed, \(U \subset \cl_X S\), hence every neighborhood of \(x \in U\) has a non-empty intersection with \(S\). In particular, for every \(V \in \tau_U\) that contains \(x \in U\) satisfies \(V \cap S \neq \emptyset\), hence \(U \subset \cl_U(S \cap U)\). This shows \(U = \cl_U(S\cap U)\) since \(\cl_U(A) \subset U\) for any \(A \subset U\).
\end{remark}

An equivalent description is given in terms of the interior of a dense set.
\begin{theorem}{Interior of the complement of a dense set is empty}{interior_dense}
    Let \topology{X} be a topological space. A set \(S\subset X\) is dense in \(X\) if and only if \(\inte{(X \setminus S)} = \emptyset\).
\end{theorem}
\begin{proof}
    Suppose \(S\) is dense in \(X\), then \(\cl S = X\). By \cref{thm:closure_interior}, it follows that \(X = X \setminus \inte(X\setminus S)\). Hence, \(\inte(X\setminus S) = \emptyset\).

    Suppose \(\inte(X\setminus S) = \emptyset\). By \cref{thm:closure_interior}, we have \(\cl{S} = X\), hence \(S\) is dense in \(X\).
\end{proof}

With the notion of a set dense in some subset, we may categorize topological spaces.
\begin{definition}{Nowhere dense sets}{nowhere_dense}
    Let \topology{X} be a topological space. A set \(S\) is \emph{nowhere dense in \(X\)} if \(S\) is not dense in any non-empty open subset of \(X\).
\end{definition}

\begin{theorem}{Interior of the closure of a nowhere dense set}{interior_closure_nowhere_dense}
    Let \topology{X} be a topological space. A subset \(S \subset X\) is nowhere dense in \(X\) if and only if \(\inte_X\left(\cl_X S\right) = \emptyset\).
\end{theorem}
\begin{proof}
    Suppose \(U = \inte_X\left(\cl_X S\right)\) is not the empty set. Let \(x \in U\), there exists \(V \in \tau_X\) containing \(x\) with \(V \subset U\), since \(U\) is open in \(X\). Moreover, \(V \in \tau_U\) because \(U \in \tau_X\). As \(U\) is the interior of \(\cl_XS\), we have \(U \subset \cl_X S\), hence \(x \in \cl_X S\). Then, every neighborhood of \(x\) has a non-empty intersection with \(S\). This implies \(V \cap (S \cap U) \neq \emptyset\), which yields \(x \in \cl_U(S \cap U)\). That is, \(\cl_U(S\cap U) = U\), hence \(S \cap U\) is dense in \(U\). We have thus shown \(\inte_X\left(\cl_X S\right) \neq \emptyset\) implies that \(S\) is dense in some non-empty open subset of \(X\), hence the contrapositive gives us that if \(S\) is nowhere dense in \(X\), then \(\inte_X(\cl_XS) = \emptyset\).

    Suppose \(S\) is dense in some non-empty open set \(U \in \tau_X\), that is, \(\cl_U(S \cap U) = U\). Let \(x \in U\), and let \(V \in \tau_U\) be some neighborhood of \(x\), then \(V \cap S \neq \emptyset\). Since \(U\) is open in \(X\), we have \(x \in \cl_X S\). Hence, \(U \subset \cl_X S\). We have shown if \(S\) is somewhere dense, then the interior of its closed is non-empty, thus showing that \(\inte_X (\cl_X S) = \emptyset\) implies \(S\) is nowhere dense by contrapositive.
\end{proof}
\begin{corollary}
    If \(S\) is nowhere dense in \(X\), then \(\cl_X{S}\) is nowhere dense in \(X\).
\end{corollary}
\begin{proof}
    Since \(\cl_XS\) is closed, we have \(\inte_X(\cl_X(\cl_X S)) = \inte_X(\cl_X S) = \emptyset\) by hypothesis.
\end{proof}

\begin{proposition}{Nowhere density preserved under homeomorphism}{nowhere_dense_homeomorphism}
    Let \topology{X} and \topology{Y} be topological spaces and let \(f : X \to Y\) be a homeomorphism. The subset \(S\subset X\) is nowhere dense in \(X\) if and only if \(f(S)\) is nowhere dense in \(Y\).
\end{proposition}
\begin{proof}
    \cref{thm:closure_interior_homeomorphism} yields \(\inte_Y(\cl_Y f(S)) = f(\inte_X(\cl_X(S)))\). \cref{thm:interior_closure_nowhere_dense} shows \(f(S)\) is nowhere dense in \(Y\) if and only if \(S\) is nowhere dense in \(X\).
\end{proof}

\begin{definition}{First and second Baire categories}{Baire_categories}
    Let \topology{X} be a topological space. A subset \(S \subset X\) is said to be of \emph{the first category} if \(S\) is expressible as the countable union of nowhere dense sets in \(X\). Otherwise, \(S\) is of \emph{the second category.}
\end{definition}
